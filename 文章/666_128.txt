DNS服务的基本工作原理解析
我们知道，主机标识既可以使用主机名，也可以使用IP地址。实际上人们往往更愿意使用便于记忆的主机名做标识符，而路由器则只愿使用长度固定并有层次结构的IP地址。
因特网中的主机就像人一样能以多种方式标识。标识方法之一是使用主机名。主机名(例如znzncn.com， www.yahoo.com)是助记性的，人们更愿意使用。然而主机名几乎没有提供关于主机在因特网中的位置信息.另外，主机名是由可变长度的字母数字字符构成的，路由器处理起来有困难。因此因特网中的主机也使用所谓的IP地址做标识的。IP地址由4个字节构成，具有严格的层次结构。IP地址一般以点分十进制数格式表示，也就是说所有4个字节都以0&mdash;255之间的十进制数表示，各个字节之间以点号分隔，例如121.7.106.83。IP地址具有层次结构性，当从左到右扫描某个地址时，我们得到关于其主机在因特网中所在位置的越来越明确的信息。这就像从下到上扫描某个邮政地址时，我们得到关于住宅所在位置的越来越明确的信息一样。
　　 DNS服务
　　 我们已经知道，既可以使用主机名标识一台主帆，也可以使用IP地址标识。人们更愿意使用便于记忆的主机名标识符，而路由器则只愿使用长度固定民有层次结构的IP地址。为调解这两种不同的偏好，我们需要一个把主机名转换成IP地址的目录服务。这就是因特网的域名系统的主要任务。DNS既是一个在由名称服务器主机构成的层次结构中实现的分布式数据库，又是一个允许客户主机和名称服务器主机通信以使用域名转换服务的应用层协议。名称服务器主机通常是运行Berkeley Internet Name Domain(简称BIND)软件的UNIX主机。DNS服务协议运行在UDP之上，使用端口号53。
　　 其他应用层协议(例如HTTP，SMTP,FTP)普遍使用DNS服务把由用户提供的主机名转换成IP地址。作为例子，我们考虑某个用户使用运行在本地主机上的一个浏览器(也就是HTTP客户)请求http://www.znzncn.com时会发生什么。为了把HTTP请求消息发送到名为 www.znzncn.com的web服务器主机，浏览器必须获悉这台主机的IP地址。我们知道，差不多每台主机都运行着DNS应用的客户端。浏览器从 URL中抽取出主机名后把它传递给本地主机上的DNS应用客户端。DNS客户于是向某个DNS服务器发出一个包含该主机名的DNS服务查询消息。DNS客户最终收到一个包含与该主机名对应的IP地址的应答消息。浏览器接着打开一个到位于该IP地址的HTTP服务器的TCP连接。从这个例子中可以看出，DNS服务给使用它的因特网应用引入了额外延迟(有时还相当大)。所幸的是，正如我们即将讨论的那样.预期的主机名&mdash;IP地址对应关系往往高速缓存在就近的DNS服务器主机中，从而帮助降低了DNS访问延迟和DNS服务网络流量。
　　 除了从主机名到IP地址的转换，DNS服务还提供其他一些重要的服务:
　　 ●主机别名。具有复杂主机名的主机还可以有一个或多个别名。例如，主机名为relay1.znzncn.znzncn1.com的主机有两个别名:znzncn1.com和 www.znzncn1.com。这种情况下，主机名relay1.znzncn.znzncn1.com特称为正规主机名 (canonical hostname)，另外两个主机名则是别名主机名(alias hostname)。
　　 别名主机名往往比正规主机名更便于记忆。应用可以调用DNS服务获取所给定别名主机名的正规主机名和IP地址。
　　 ●邮件服务器别名(mall server aliasing)。
电子邮件地址显然要求便于记忆。例如，如果znzncn有一个hotmail账号，那么他的电子邮件地址可能是简单的znzncn@hotmail.com。然而hotmail邮件服务器的主机名要比hotmail.com复杂且不易记住。电子邮件应用可以调用DNS服务获取所给定别名主机名的正规主机名和IP地址。事实上，DNS服务允许一个公司的邮件服务器和Web服务器使用相同的别名主机名。例如，某个公司的web服务器和邮件服务器可以都称为znncn1.com。
　　 ●负载分担(load distribution)。
DNS服务还越来越多地用于执行在多个复制成的服务器(例如复制成的Web服务器)之间的负载分担。像cnn.com那样的繁忙站点往往把Web服务器复制成多个，每个服务器运行在不向的端系统上，具有不同的IP地址。对于复制成的多个Web服务器，与其单个正规主机名相关联的是一组IP地址。DNS服务数据库中保存着这组IP地址。客户发出针对映射到一组IP地址的某个主机名的DNS查询后，服务器响应以整组IP地址，不过每次响应的地址顺序是轮转的。既然访问web站点时，浏览器一般把HTTP请求消息发送给内DNS服务客户查询到的一组IP地址中的第一个，DNS服务轮转于是把web站点的访问负载分担在所有复制成的服务器上。电子邮件应用也可以使用DNS服务轮转，这样多个邮件服务器可以有相同的别名。